"<AddOnInstructionDefinition CreatedBy=\"Not Available\" CreatedDate=\"2008-02-29T20:40:04.200Z\" EditedBy=\"PROCESS\\Library\" EditedDate=\"2016-01-29T13:55:20.321Z\" ExecuteEnableInFalse=\"true\" ExecutePostscan=\"false\" ExecutePrescan=\"true\" Name=\"P_Alarm\" Revision=\"3.5\" RevisionExtension=\"01 Release\" SoftwareRevision=\"v18.02\" Vendor=\"Rockwell Automation\">\n<Description>\n<CData>\nAlarm\n</CData>\n</Description>\n<RevisionNote>\n<CData>\nSee V3.5-xx Release Notes for details. Corrected operation of Cfg_AlmMinOnT, Cfg_MaxShelfT.\n</CData>\n</RevisionNote>\n<AdditionalHelpText>\n<CData>\nCopyright \u00a9 Rockwell Automation, Inc.  All Rights Reserved.\n\nThis instruction monitors one input condition and provides one Alarm with:\n  * configurable latching (reset required) and acknowledgement requirement\n  * configurable alarm severity\n      1 to 250       = Low  (blue, typ. informational)\n      251 to 500   = Medium  (yelllow, typ. warning)\n      501 to 750   = High  (red, typ. process exception)\n      751 to 1000 = Urgent  (magenta, typ. equip. fault)\n  * configurable minimum ON time (e.g., to ensure it is seen by the HMI)\n  * commands to suppress/unsuppress (Prog), shelve/unshelve (Oper)\n        and disable/enable (Maint) the alarm.\n  * configurable amount of time shelved to automatically unshelve an alarm\n  * FTA&amp;E support for suppressed, shelved and disabled states (V7.0)\n  * A Maintenance \"Test\" command, which triggers the alarm for the minimum\n     alarm time for testing purposes.\n\nNOTE regarding parameter naming:\n  FTAE names (same as ALMD instruction) are used instead\n  of the ANSI/ISA 18.2-2009 names, as follows:\n   \"Disabled\" is the equivalent of \"Out of Service\" in ISA 18.2.\n      (The Disabled state is owned by Maintenance.)\n   \"Suppressed\" is the equivalent of \"Suppressed by Design\" in\n      ISA 18.2. (The Suppressed state is owned by Program logic.)\n   \"Shelved\" is the same as in ISA 18.2.\n      (The Shelved state is owned by Operator, but may be cleared\n      by Program logic based on time, shift change, etc.)\n\nThis instruction is usually nested within other instructions, with one instance\nused for each Alarm generated by the containing instruction.  It may also be\nused as a standalone instruction for Alarm conditions generated by custom logic.\n\nFTAE Alarm Setup:\n  (object).(alarm).Com_AE.0:  Alarm to FTAE\n    .Com_AE.1:   Ack to/from FTAE\n    .Com_AE.3:   Shelved from FTAE Status\n    .Com_AE.4:   Shelve/Reshelve to FTAE Control (auto reset)\n    .Com_AE.5:   Unshelve to FTAE Control (auto reset)\n    .Com_AE.6:   Suppressed from FTAE Status\n    .Com_AE.7:   Suppress to FTAE Control (auto reset)\n    .Com_AE.8:   Unsuppress to FTAE Control (auto reset)\n    .Com_AE.9:   Disabled from FTAE Status\n    .Com_AE.10: Disable to FTAE Control (auto reset)\n    .Com_AE.11: Enable to FTAE Control (auto reset)\n   all other bits unused\n    .Cfg_MaxShelfT is also used in FTAE config.\n    .Cfg_Severity is used in FTAE for FTView 8.x.\n\n</CData>\n</AdditionalHelpText>\n<Parameters>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"EnableIn\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nEnable Input - System Defined Parameter\n</CData>\n</Description>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"EnableOut\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nEnable Output - System Defined Parameter\n</CData>\n</Description>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Inp\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"true\">\n<Description>\n<CData>\nAlarm Condition Input 1=Alarm\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n1\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"1\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Inp_Reset\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"true\">\n<Description>\n<CData>\n1=Reset Alarm requiring reset\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Cfg_Exists\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\n1=Alarm configured to exist, 0=Does not exist, don't scan\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n1\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"1\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Cfg_ResetReqd\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\n1=Latched Alarm, a Reset is required to clear this Alarm\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Cfg_AckReqd\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\n1=Acknowledge required for this Alarm\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n1\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"1\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Cfg_AllowShelve\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\n1=Allow Operator to Shelve this Alarm\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n1\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"1\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Cfg_AllowDisable\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\n1=Allow Maintenance to Disable this Alarm\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n1\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"1\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Cfg_PCmdClear\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\n1=Clear Program Commands on receipt\n0=Leave Set\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n1\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"1\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"INT\" ExternalAccess=\"Read/Write\" Name=\"Cfg_Severity\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nAlarm Severity: 1..250=Low, 251..500=Medium, 501..750=High, 751..1000=Urgent\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n750\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"INT\" Radix=\"Decimal\" Value=\"750\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"DINT\" ExternalAccess=\"Read/Write\" Name=\"Cfg_AlmMinOnT\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nMinimum time Alm output stays on (sec)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n5\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"DINT\" Radix=\"Decimal\" Value=\"5\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"INT\" ExternalAccess=\"Read/Write\" Name=\"Cfg_MaxShelfT\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nAuto unshelve after shelved this long (1..32767 minutes)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n480\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"INT\" Radix=\"Decimal\" Value=\"480\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"PCfg_AllowExist\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\n1=Alarm can be configured to exist, 0=other configs make alarm meaningless\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n1\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"1\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"PCmd_Reset\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nProgram Command to Reset latched alarm\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"PCmd_Ack\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nProgram Command to Acknowledge alarm\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"PCmd_Suppress\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nProgram Command to Suppress by Design (inhibits new alarm)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"PCmd_Unsuppress\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nProgram Command to Unsuppress (allows new alarm)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"PCmd_Unshelve\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nProgram Command to Unshelve (e.g., on shift change)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"OCmd_Reset\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nOperator Command to Reset latched alarm\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"OCmd_Ack\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nOperator Command to Acknowledge alarm\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"OCmd_Shelve\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nOperator Command to Shelve Alarm (inhibits new alarm)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"OCmd_Unshelve\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nOperator Command to Unshelve alarm (allows new alarm)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"MCmd_Disable\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nMaintenance Command to Disable alarm (inhibits new alarm)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"MCmd_Enable\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nMaintenance Command to Enable alarm (allows new alarm)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"MCmd_Test\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nMaintenance Command to Test alarm (issued for minimum alarm time)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"SINT\" ExternalAccess=\"Read Only\" Name=\"Val_Notify\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nCurrent Alarm Severity and Acknowledgement (enumeration)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"SINT\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"DINT\" ExternalAccess=\"Read Only\" Name=\"Val_MinToUnshelve\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\nNumber of minutes until this alarm unshelves itself (mmm:ss)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"DINT\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"DINT\" ExternalAccess=\"Read Only\" Name=\"Val_SecToUnshelve\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\nNumber of Seconds until this alarm unshelves itself (mmm:ss)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"DINT\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter AliasFor=\"Com_AE.0\" ExternalAccess=\"Read/Write\" Name=\"Alm\" Radix=\"Decimal\" Required=\"false\" TagType=\"Alias\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\nAlarm output 1=In Alarm\n</CData>\n</Description>\n</Parameter>\n<Parameter AliasFor=\"Com_AE.1\" ExternalAccess=\"Read/Write\" Name=\"Ack\" Radix=\"Decimal\" Required=\"false\" TagType=\"Alias\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\nAlarm acknowledged status: 1=Ack rcvd\n</CData>\n</Description>\n</Parameter>\n<Parameter AliasFor=\"Com_AE.3\" ExternalAccess=\"Read/Write\" Name=\"Shelved\" Radix=\"Decimal\" Required=\"false\" TagType=\"Alias\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\n1=Alarm has been Shelved by Operator (inhibits new alarm)\n</CData>\n</Description>\n</Parameter>\n<Parameter AliasFor=\"Com_AE.6\" ExternalAccess=\"Read/Write\" Name=\"Suppressed\" Radix=\"Decimal\" Required=\"false\" TagType=\"Alias\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\n1=Alarm has been Suppressed by Program (inhibits new alarm)\n</CData>\n</Description>\n</Parameter>\n<Parameter AliasFor=\"Com_AE.9\" ExternalAccess=\"Read/Write\" Name=\"Disabled\" Radix=\"Decimal\" Required=\"false\" TagType=\"Alias\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\n1=Alarm has been Disabled by Maintanance (inhibits new alarm)\n</CData>\n</Description>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_AlmInh\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Alarm has been suppressed, shelved or disabled, display \"I\" icon\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_Err\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Error in Config: see detail Err_ bits for reason\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Err_Timer\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Error in Config: Alarm Min On Time, Shelf Time (use 0 to 2147483)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Err_Severity\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Error in Config: Invalid Severity (use 1 to 4)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_Reset\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nReady to receive OCmd_Reset (enables button)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_Ack\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nReady to receive OCmd_Ack (enables button)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_Shelve\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nReady to receive OCmd_Shelve (enables button)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_Unshelve\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nReady to receive OCmd_Unshelve (enables button)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_Disable\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nReady to receive MCmd_Disable (enables button)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_Enable\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nReady to receive MCmd_Enable (enables button)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_Test\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nReady to receive MCmd_Test (enables button)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"P_Alarm\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nUnique Parameter Name for auto - discovery\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n</Parameters>\n<LocalTags>\n<LocalTag DataType=\"BOOL\" ExternalAccess=\"None\" Name=\"Wrk_Alm\" Radix=\"Decimal\">\n<Description>\n<CData>\nInternal Alarm Status\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"BOOL\" ExternalAccess=\"None\" Name=\"Wrk_Suppressed\" Radix=\"Decimal\">\n<Description>\n<CData>\nInternal Alarm Suppressed Status\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"TIMER\" ExternalAccess=\"None\" Name=\"Wrk_AlmMinOnT\">\n<Description>\n<CData>\nAlarm output minimum ON time to be seen by alarm server\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n[0,5000,0]\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<Structure DataType=\"TIMER\">\n<DataValueMember DataType=\"DINT\" Name=\"PRE\" Radix=\"Decimal\" Value=\"5000\"/>\n<DataValueMember DataType=\"DINT\" Name=\"ACC\" Radix=\"Decimal\" Value=\"0\"/>\n<DataValueMember DataType=\"BOOL\" Name=\"EN\" Value=\"0\"/>\n<DataValueMember DataType=\"BOOL\" Name=\"TT\" Value=\"0\"/>\n<DataValueMember DataType=\"BOOL\" Name=\"DN\" Value=\"0\"/>\n</Structure>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"TIMER\" ExternalAccess=\"None\" Name=\"Wrk_AutoAckT\">\n<Description>\n<CData>\nTime to clear Ack bit when Ack not required\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n[0,5000,0]\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<Structure DataType=\"TIMER\">\n<DataValueMember DataType=\"DINT\" Name=\"PRE\" Radix=\"Decimal\" Value=\"5000\"/>\n<DataValueMember DataType=\"DINT\" Name=\"ACC\" Radix=\"Decimal\" Value=\"0\"/>\n<DataValueMember DataType=\"BOOL\" Name=\"EN\" Value=\"0\"/>\n<DataValueMember DataType=\"BOOL\" Name=\"TT\" Value=\"0\"/>\n<DataValueMember DataType=\"BOOL\" Name=\"DN\" Value=\"0\"/>\n</Structure>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"TIMER\" ExternalAccess=\"Read Only\" Name=\"Wrk_ShelfT\">\n<Description>\n<CData>\nTime to auto Unshelve a Shelved Alarm\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n[0,0,0]\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<Structure DataType=\"TIMER\">\n<DataValueMember DataType=\"DINT\" Name=\"PRE\" Radix=\"Decimal\" Value=\"0\"/>\n<DataValueMember DataType=\"DINT\" Name=\"ACC\" Radix=\"Decimal\" Value=\"0\"/>\n<DataValueMember DataType=\"BOOL\" Name=\"EN\" Value=\"0\"/>\n<DataValueMember DataType=\"BOOL\" Name=\"TT\" Value=\"0\"/>\n<DataValueMember DataType=\"BOOL\" Name=\"DN\" Value=\"0\"/>\n</Structure>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"SINT\" ExternalAccess=\"Read/Write\" Name=\"Inf_Tab\" Radix=\"Decimal\">\n<Description>\n<CData>\nTab to display (FTView ME)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"SINT\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"INT\" ExternalAccess=\"Read/Write\" Name=\"Com_AE\" Radix=\"Binary\">\n<Description>\n<CData>\nCommunication with HMI / Alarm/Event Server (see bit descriptions)\n</CData>\n</Description>\n<Comments>\n<Comment Operand=\".0\">\n<CData>\nAlarm to AE\n</CData>\n</Comment>\n<Comment Operand=\".1\">\n<CData>\nAcked from AE Status, Ack to AE Control\n</CData>\n</Comment>\n<Comment Operand=\".2\">\n<CData>\n(not used)\n</CData>\n</Comment>\n<Comment Operand=\".3\">\n<CData>\nShelved from AE Status\n</CData>\n</Comment>\n<Comment Operand=\".4\">\n<CData>\nShelve to AE Control\n</CData>\n</Comment>\n<Comment Operand=\".5\">\n<CData>\nUnshelve to AE Control\n</CData>\n</Comment>\n<Comment Operand=\".6\">\n<CData>\nSuppressed from AE Status\n</CData>\n</Comment>\n<Comment Operand=\".7\">\n<CData>\nSuppress to AE Control\n</CData>\n</Comment>\n<Comment Operand=\".8\">\n<CData>\nUnsuppress to AE Control\n</CData>\n</Comment>\n<Comment Operand=\".9\">\n<CData>\nDisabled from AE Status\n</CData>\n</Comment>\n<Comment Operand=\".10\">\n<CData>\nDisable to AE Control\n</CData>\n</Comment>\n<Comment Operand=\".11\">\n<CData>\nEnable to AE Control\n</CData>\n</Comment>\n<Comment Operand=\".12\">\n<CData>\n(not used)\n</CData>\n</Comment>\n<Comment Operand=\".13\">\n<CData>\n(not used)\n</CData>\n</Comment>\n<Comment Operand=\".14\">\n<CData>\n(not used)\n</CData>\n</Comment>\n<Comment Operand=\".15\">\n<CData>\n(not used)\n</CData>\n</Comment>\n</Comments>\n<DefaultData Format=\"L5K\">\n<CData>\n2\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"INT\" Radix=\"Binary\" Value=\"2#0000_0000_0000_0010\"/>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"STRING_20\" ExternalAccess=\"Read/Write\" Name=\"Cfg_Tag\">\n<Description>\n<CData>\nAlarm Tag Text (e.g., \"LAHH-101\")\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n[7,'P_Alarm$00$00$00$00$00$00$00$00$00$00$00$00$00']\n</CData>\n</DefaultData>\n<DefaultData Format=\"String\" Length=\"7\">\n<CData>\n'P_Alarm'\n</CData>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"STRING_20\" ExternalAccess=\"Read/Write\" Name=\"Cfg_Cond\">\n<Description>\n<CData>\nAlarm Condition Text (e.g., \"High-High PV\")\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n[15,'Alarm Condition$00$00$00$00$00']\n</CData>\n</DefaultData>\n<DefaultData Format=\"String\" Length=\"15\">\n<CData>\n'Alarm Condition'\n</CData>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"DINT\" ExternalAccess=\"None\" Name=\"Wrk_SecToUnshelve\" Radix=\"Decimal\">\n<Description>\n<CData>\nNumber of seconds until this alarm unshelves itself\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"DINT\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"STRING_12\" ExternalAccess=\"Read Only\" Name=\"Inf_Lib\">\n<Description>\n<CData>\nDisplay Library for Faceplate call-up\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n[6,'RA-BAS$00$00$00$00$00$00']\n</CData>\n</DefaultData>\n<DefaultData Format=\"String\" Length=\"6\">\n<CData>\n'RA-BAS'\n</CData>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"STRING_16\" ExternalAccess=\"Read Only\" Name=\"Inf_Type\">\n<Description>\n<CData>\nMust contain AOI name, used for HMI and Information S/W\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n[7,'P_Alarm$00$00$00$00$00$00$00$00$00']\n</CData>\n</DefaultData>\n<DefaultData Format=\"String\" Length=\"7\">\n<CData>\n'P_Alarm'\n</CData>\n</DefaultData>\n</LocalTag>\n</LocalTags>\n<Routines>\n<Routine Name=\"EnableInFalse\" Type=\"RLL\">\n<Description>\n<CData>\nPerform Alarm processing, but Invert Alarm Input (\"Inp\") for use on LD rung (EnableIn False)\n</CData>\n</Description>\n<RLLContent>\n<Rung Number=\"0\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nP_Alarm: EnableInFalse (False Rung) Handling\n============================================================\nWhen EnableIn is FALSE (False Rung), the Input\n(\"Inp\") is inverted.  This allows the P_Alarm instruction\nto be used on a simple Ladder Diagram rung:\n\nXIC  (condition)   P_Alarm (Alarm)\n\nAll processing is identical to the normal Logic\nroutine, except references to Inp are inverted!\n============================================================\nCONFIGURATION\n============================================================\nIn the object containing this alarm, other configuration (such as not having\nany limit switches) may make this particular alarm meaningless.\nThe Program Configuration \"Allow Exist\" is used to hide this alarm\non the object's faceplate and other graphics, and forces the Cfg_Exist to 0.\n\n#####  V3.0-00  2013-06-30:  Added PCfg_AllowExist.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIO(PCfg_AllowExist)OTU(Cfg_Exists);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"1\" Type=\"N\">\n<Comment>\n<CData>\n\nThis rung gets the Alarm Minimum ON Time Configuration\nand the Auto Unshelve Time Configuration\nvalues and sets the corresponding timer presets.\nIf the Minimum ON Time Configuration results in a timer preset\nless than 5 seconds, the preset is set to 5 seconds.\nIf the Auto Unshelve Time Configuration results in a negative\ntimer preset, the preset is set to 28800 seconds (8 hours).\nEither bad Config is flagged (Err_Timer).\nBad Config is also flagged if the Cfg_Severity is out of range (valid = 1..1000) (Err_Severity).\n\n#####  V3.0-00  2013-06-30:  Changed Program Inhibit to Suppress, Operator Suppress to Shelve.  #####\n#####  Added Shelf Timer config check; if Severity out of range, make it \"Fault\".  #####\n#####  V3.0-02  2013-10-30:  Changed Cfg_MaxShelfT check to LEQ 0.  (INT 1 to 32767 is valid.)  #####\n#####  V3.1-05, V3.5-00  2015-07-31:  Fixed operation of Cfg_MaxShelfT = 0, Cfg_AlmMinOnT, rung comment.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(Cfg_Exists)[[MUL(Cfg_AlmMinOnT,1000,Wrk_AlmMinOnT.PRE) LES(Wrk_AlmMinOnT.PRE,5000) MOV(5,Cfg_AlmMinOnT) MOV(5000,Wrk_AlmMinOnT.PRE) ,MUL(Cfg_MaxShelfT,60000,Wrk_ShelfT.PRE) LES(Wrk_ShelfT.PRE,0) MOV(480,Cfg_MaxShelfT) MOV(28800000,Wrk_ShelfT.PRE) ] OTE(Err_Timer) ,LIM(1001,Cfg_Severity,0) MOV(1000,Cfg_Severity) OTE(Err_Severity) ]OTE(Sts_Err);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"2\" Type=\"N\">\n<Comment>\n<CData>\nThe Auto Ack time is ALWAYS five seconds.\n\n#####  V3.1-05, V3.5-00  2015-07-31:  Operation of Cfg_AlmMinOnT consolidated on previous rung  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nMOV(5000,Wrk_AutoAckT.PRE);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"3\" Type=\"N\">\n<Comment>\n<CData>\nWhen the Alarm initially occurs, the Auto Ack timer is started.\nIf this Alarm is set for \"Ack Not Required\", it is automatically \nAcknowledged after the AutoAck time expires.\n\nThis pulsing of the Ack bit OFF then ON allows the \"Ack Not Required\"\nconfiguration to be used with View 32, View ME and other legacy\nalarm systems that don't support optional ack.\n\n#####  V3.0-00  2013-06-30:  Moved rung here to be outside the \"JMP over\" zone  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIO(Ack)TON(Wrk_AutoAckT,?,?);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"4\" Type=\"N\">\n<Comment>\n<CData>\nIf this alarm does not exist, set it to its default state (no alarm, acknowleded,\nuninhibited, unsuppressed, enabled) and clear any received commands.\nThen jump over the remainder of the Logic and return.\n\n#####  V3.0-00  2013-06-30:  Added Shelf Timer, PCmd_Unshelve  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIO(Cfg_Exists)[XIC(Wrk_AutoAckT.DN) OTL(Ack) ,OTU(Wrk_Alm) OTU(Shelved) OTU(Wrk_Suppressed) OTU(Disabled) OTU(Sts_AlmInh) ,OTU(PCmd_Reset) OTU(PCmd_Ack) OTU(PCmd_Unshelve) OTU(PCmd_Suppress) OTU(PCmd_Unsuppress) ,OTU(OCmd_Reset) OTU(OCmd_Ack) OTU(OCmd_Shelve) OTU(OCmd_Unshelve) ,OTU(MCmd_Disable) OTU(MCmd_Enable) RES(Wrk_AlmMinOnT) RES(Wrk_ShelfT) ]JMP(End);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"5\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nCOMMAND PROCESSING\n============================================================\nThese rungs handle received Commands:\nOperator Commands (OCmd_xx) and Maintenance Commands\n(MCmd_xx) from the HMI and\nProgram Command (PCmd_xx) from other objects.\n\nNOTE:  ALARM COMMANDS ARE ACCEPTED REGARDLESS OF MODE.\n\nThis rung receives the Program Alarm Inhibit Command.\nIf configured for EDGE, the Command is cleared.\n\n#####  V3.1-02  2013-09-24:  Modified FTAE interface for Disable/Enable, Suppress/Unsuppress.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(PCmd_Suppress)[XIC(Cfg_PCmdClear) OTU(PCmd_Suppress) ,OTL(Wrk_Suppressed) OTL(Com_AE.7) OTU(Com_AE.8) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"6\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Program Alarm Unsuppress Command (Unsuppress wins over Suppress).\nIf configured for LEVEL, Suppressed is cleared if PCmd_Suppress is cleared.\n\n#####  V3.1-02  2013-09-24:  Modified FTAE interface for Disable/Enable, Suppress/Unsuppress.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(PCmd_Unsuppress) OTU(PCmd_Unsuppress) ,XIO(PCmd_Suppress) XIO(Cfg_PCmdClear) ]OTU(Wrk_Suppressed)OTU(Com_AE.7)OTL(Com_AE.8);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"7\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Operator Shelve Command.\nIf the command is received while shelved, the shelf timer starts over (reset).\n\n#####  V3.0-00  2013-06-30:  Changed Program Inhibit to Suppress, Operator Suppress to Shelve.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(OCmd_Shelve)OTU(OCmd_Shelve)XIC(Cfg_AllowShelve)OTL(Shelved)OTL(Com_AE.4)OTU(Com_AE.5)RES(Wrk_ShelfT);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"8\" Type=\"N\">\n<Comment>\n<CData>\nThis rung times how long the alarm has been shelved.\nIf the Shelf Timer expires (and its preset &gt; 0), automatically unshelve the alarm.\n\n#####  V3.0-00  2013-06-30:  New rung, added Shelf Timer  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(Shelved)TON(Wrk_ShelfT,?,?);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"9\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Operator Unshelve Command (Unshelve wins over Shelve)\nand the Program Unshelve Command\nAlso Unshelve the alarm if the Shelf Timer expires (if preset &gt; 0).\n\nNOTE: Shelved can also be set/cleared directly by the HMI (FTA&amp;E support).\n\n#####  V3.0-00  2013-06-30:  Changed Program Inhibit to Suppress, Operator Suppress to Shelve.  #####\n#####  Added PCmd_Unshelve, Shelf Timer expiration  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(OCmd_Unshelve) OTU(OCmd_Unshelve) ,XIC(PCmd_Unshelve) OTU(PCmd_Unshelve) ,XIC(Wrk_ShelfT.DN) NEQ(Wrk_ShelfT.PRE,0) ,XIO(Cfg_AllowShelve) ]OTU(Shelved)OTU(Com_AE.4)OTL(Com_AE.5);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"10\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Maintenance Alarm Disable Command\n\n#####  V3.1-02  2013-09-24:  Modified FTAE interface for Disable/Enable, Suppress/Unsuppress.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(MCmd_Disable)OTU(MCmd_Disable)XIC(Cfg_AllowDisable)OTL(Disabled)OTL(Com_AE.10)OTU(Com_AE.11);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"11\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Maintenance Alarm Enable Command (Enable wins over Disable)\n\nNOTE: Disabled can also be set/cleared directly by the HMI (FTA&amp;E support).\n\n#####  V3.1-02  2013-09-24:  Modified FTAE interface for Disable/Enable, Suppress/Unsuppress.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(MCmd_Enable) ,XIO(Cfg_AllowDisable) ]OTU(MCmd_Enable)OTU(Disabled)OTU(Com_AE.10)OTL(Com_AE.11);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"12\" Type=\"N\">\n<Comment>\n<CData>\nIf the Alarm is Disabled (Maint), Suppressed (Prog) or Shelved\n(Oper), then post the \"alarm inhibited\" breadcrumb and do not\nallow a new alarm to be issued.\n\n@@@@@  Unlatch and Latch are used to avoid a verification  @@@@@\n@@@@@  warning in combination with Rung 2's OTU (above)!  @@@@@\n\n#####  V3.0-00  2013-06-30:  Broken out in a separate, simpler rung, and used  #####\n#####  in other logic.  Shelving no longer generates Alm on Inp going to Alarm state.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nOTU(Sts_AlmInh)[XIC(Disabled) ,XIC(Wrk_Suppressed) ,XIC(Shelved) ]OTL(Sts_AlmInh);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"13\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Alarm Acknowledge Commands\n\nNOTE: Acknowledge can also be set/cleared directly by the HMI.\n\n#####  V3.0-00  2013-06-30:  Most ACK sources moved to this rung.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIO(Wrk_AutoAckT.TT)[XIC(PCmd_Ack) OTU(PCmd_Ack) ,XIC(OCmd_Ack) OTU(OCmd_Ack) ,XIO(Cfg_AckReqd) ]OTL(Ack);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"14\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Alarm Reset Commands.\n\nIf the Alarm Reset Command is received and, either, the Input condition\nhas returned to normal, or the alarm is disabled, suppressed or shelved,\nthe Alarm is CLEARED and ACKNOWLEDGED (to match ALMD behavior!!!).\n\n#####  V3.0-00  2013-06-30:  The alarm is no longer AUTOMATICALLY  #####\n#####  cleared and acked if it is simply disabled or suppressed!  #####\n\n@@@@@  \"Inp\" is Inverted in the EnableInFalse Routine!  @@@@@\n</CData>\n</Comment>\n<Text>\n<CData>\nXIO(Wrk_AutoAckT.TT)[XIC(OCmd_Reset) OTU(OCmd_Reset) ,XIC(PCmd_Reset) OTU(PCmd_Reset) ,XIC(Inp_Reset) ][XIC(Inp) ,XIC(Sts_AlmInh) ]OTL(Ack)OTU(Wrk_Alm);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"15\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nALARM GENERATION\n============================================================\nThis rung CLEARS the Alarm when the alarm condition clears and its\nMinimum On Time has expired, IF Reset is NOT Required.\n\n#####  V3.0-00  2013-06-30:  No longer bypass Reset Required  #####\n#####  when the alarm is Shelved by the Operator.  #####\n\n@@@@@  \"Inp\" is Inverted in the EnableInFalse Routine!  @@@@@\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(Inp) XIO(Cfg_ResetReqd) XIO(Wrk_AlmMinOnT.TT) ,XIC(Disabled) XIO(Wrk_AutoAckT.TT) ]OTU(Wrk_Alm);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"16\" Type=\"N\">\n<Comment>\n<CData>\nIf the Alarm Input (Inp) is true (inverted in EnableInFalse) and the alarm is\n(or becomes) Enabled, Unsuppressed and Unshelved, this rung sets the Alarm (Alm) bit.\nThe Acknowledge (Ack) bit is cleared when the Alarm initially occurs.\n\n#####  V3.0-00  2013-06-30:  Removed Wrk_Abnormal logic.  #####\n#####  V3.1-00  2014-06-30:  Added Maintenace Test command.  #####\n\n@@@@@  \"Inp\" is Inverted in the EnableInFalse Routine!  @@@@@\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIO(Inp) XIO(Sts_AlmInh) ,XIC(MCmd_Test) OTU(MCmd_Test) ][XIO(Wrk_Alm) OTU(Ack) ,OTL(Wrk_Alm) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"17\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nOPERATOR COMMAND READIES\n============================================================\nThis Alarm is ready for (requires) an Acknowledgement if the Alarm\nis not Acknowledged (an Acknowledge was Required when the alarm occurred).\n\nThis Alarm is ready for (requires) a Reset if there is an Alarm, Reset is Required,\nand either the alarm condition has CLEARED or the alarm is Shelved,\nSuppressed or Disabled.\n.\nIf the Alarm is NOT Shelved, it is ready for Shelve.\n\nIf the Alarm IS Shelved, it is ready for Unshelve.\n\nIf the Alarm is NOT Disabled, it is ready for Disable.\n\nIf the Alarm IS Disabled, it is ready for Enable.\n\nNOTE: This rung appears before the Values/Status rung because the Rdy_Reset\ncondition is used to eliminate redundant logic in the rung below for Val_Notify.0.\n\n#####  V3.0-00  2013-06-30:  Added sub-branch with Sts_AlmInh  #####\n#####  V3.1-00  2014-06-30:  Added Maintenace Test command.  #####\n\n@@@@@  \"Inp\" is Inverted in the EnableInFalse Routine!  @@@@@\n</CData>\n</Comment>\n<Text>\n<CData>\nLBL(End)XIC(Cfg_Exists)[XIO(Wrk_AutoAckT.TT) [XIO(Ack) OTE(Rdy_Ack) ,XIC(Wrk_Alm) XIC(Cfg_ResetReqd) [XIC(Inp) ,XIC(Sts_AlmInh) ] OTE(Rdy_Reset) ] ,XIC(Cfg_AllowShelve) OTE(Rdy_Shelve) ,XIC(Shelved) OTE(Rdy_Unshelve) ,XIO(Disabled) XIC(Cfg_AllowDisable) OTE(Rdy_Disable) ,XIC(Disabled) OTE(Rdy_Enable) ,XIO(Wrk_Alm) OTE(Rdy_Test) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"18\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nVALUE / STATUS GENERATION\n============================================================\nThis rung copies the internal working status (Suppressed, In Alarm)\nto public Status bits.  Note that internal working bits are used so that\noutside objects cannot manipulate the state of this object\nby setting/clearing its Status and Alarm bits.\n\nPublic Status is generated for:\nAlarm (with minimum ON time to be seen by polling)\nAlarm Suppressed\nUnsuppressed, Unshelved and Enabled are generated for HMI (FTVSE 7).\n\n(Ack, Shelved and Disabled can be set/cleared by the HMI directly.\nNote that these bits are \"read/write\" outputs in the parameter definition.)\n\n#####  V3.0-00  2013-06-30:  New rung, some from below, new HMI bits.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(Wrk_Alm) OTE(Alm) TON(Wrk_AlmMinOnT,?,?) ,XIC(Wrk_Suppressed) OTE(Suppressed) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"19\" Type=\"N\">\n<Comment>\n<CData>\nNotify Level (color, blink) is determined here.\n@@@@@  Note how the bottom 3 bits of the Severity are shifted left 1 for Val_Notify.  @@@@@\n\n0 = Not in alarm, acknowledged\n1 = Not in alarm, unacknowledged or reset required\n2 = Low severity alarm, acknowledged\n3 = Low severity alarm, unacknowledged\n4 = Medium severity alarm, acknowledged\n5 = Medium severity alarm, unacknowledged\n6 = High severity alarm, acknowledged\n7 = High severity alarm, unacknowledged\n8 = Urgent severity alarm, acknowledged\n9 = Urgent severity alarm, unacknowledged\n\nNOTE that the alarm bell icon will blink, even though the alarm is Acknowledged,\nif an Alarm Reset is required (to get the Operator's attention).\n\n#####  V3.0-00  2013-06-30:  Moved a few functions off this rung to logic above.  #####\n#####  Names of Severity levels changed to Low, Medium, High, Highest  #####\n#####  to match examples in ANSI/ISA-18.2-2009.  #####\n#####  V3.1-00  2014-06-30:  Changed severity ranges, names to match FTAE  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[[XIO(Ack) ,XIC(Rdy_Reset) ] OTE(Val_Notify.0) ,XIC(Wrk_Alm) [[LIM(1,Cfg_Severity,250) ,LIM(501,Cfg_Severity,750) ] OTE(Val_Notify.1) ,LIM(251,Cfg_Severity,750) OTE(Val_Notify.2) ,LIM(751,Cfg_Severity,1000) OTE(Val_Notify.3) ] ,OTU(Val_Notify.4) OTU(Val_Notify.5) OTU(Val_Notify.6) OTU(Val_Notify.7) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"20\" Type=\"N\">\n<Comment>\n<CData>\nThis rung calculates the number of seconds until this alarm \"unshelves\" itself.\nIf the alarm is already unshelved, clear this number.\n\n#####  V3.0-00  2013-06-30:  Added automatic unshelve, and display of time until this happens.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nCPT(Wrk_SecToUnshelve,(Wrk_ShelfT.PRE-Wrk_ShelfT.ACC)/1000)XIO(Shelved)CLR(Wrk_SecToUnshelve);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"21\" Type=\"N\">\n<Comment>\n<CData>\nThis rung takes the time remaining until the alarm will be automatically unshelved (milliseconds),\nconverts it to seconds, then reports it in  minutes : seconds format for display on the HMI.\n\n#####  V3.0-00  2013-06-30:  Added automatic unshelve, and display of time until this happens.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nDIV(Wrk_SecToUnshelve,60,Val_MinToUnshelve)MOD(Wrk_SecToUnshelve,60,Val_SecToUnshelve);\n</CData>\n</Text>\n</Rung>\n</RLLContent>\n</Routine>\n<Routine Name=\"Logic\" Type=\"RLL\">\n<Description>\n<CData>\nPerform Alarm processing: delay, latch/reset, acknowledge, enable/disable, inhibit/uninhibit, suppress/unsuppress\n</CData>\n</Description>\n<RLLContent>\n<Rung Number=\"0\" Type=\"N\">\n<Comment>\n<CData>\nCopyright \u00a9 Rockwell Automation, Inc.  All Rights Reserved.\n============================================================\nP_Alarm:  PROCESS -- ALARM (sub-block)\n============================================================\nRevision V3.5-01 Release  2016-01-29:  See V3.5-xx Release Notes for details.\nV1.x and V2.x Revision History archived.\nV3.0-00  2013-06-30:  Changed suppress to shelve, inhibit to suppress\n(ANSI/ISA 18.2-2009 and FTView 7 alignment), added auto unshelve\ntimer, program command to unshelve.  Removed: Ack on shelve.\nAdded: clear Alm when Disabled, PCfg_AllowExist, Cfg_Tag,\nCfg_Cond, Inf_Lib, Inf_Type.  (Max Shelf Time is in MINUTES.)\nAdded local tag .Com_AE for FTAE communications.\nV3.0-01  2013-07-30:  Changed range for Shelf Time to 1 to 34560 minutes.\nV3.0-02  2013-10-30:  Changed Cfg_MaxShelfT check to LEQ 0.\n(INT 1 to 32767 is valid.)\nV3.1-00  2014-06-30:  Added Maintenace Test command, changed severity\nranges and names to match FTAE (for linking to FTView 8).\nV3.1-01  2014-09-03:  Exposed shelf timer ACC/PRE (read-only).\nV3.1-02  2014-09-30:  Modified FTAE interface for Disable/Enable and\nSuppress/Unsuppress.  See \"Alarm Setup\" below!\nV3.5-01  2016-01-29:  Fixed operation of Cfg_MaxShelfT, Cfg_AlmMinOnT.\n============================================================\nThis instruction monitors one input condition and provides one Alarm with:\n  * configurable latching (reset required) and acknowledgement requirement\n  * configurable alarm severity\n1..250 = Low  (blue, typ. informational)\n251-500 = Medium  (yelllow, typ. warning)\n501-750 = High  (red, typ. process exception)\n751-1000 = Urgent  (magenta, typ. equip. fault)\n* configurable minimum ON time (e.g., to ensure it is seen by the HMI)\n* commands to suppress/unsuppress (Prog), shelve/unshelve (Oper)\nand disable/enable (Maint) the alarm.\n* configurable amount of time shelved to automatically unshelve an alarm\n* FTA&amp;E support for suppressed, shelved and disabled states (V7.0)\n\nNOTE regarding parameter naming:\nFTA&amp;E names (same as ALMD instruction) are used instead\nof the ANSI/ISA 18.2-2009 names, as follows:\n\"Disabled\" is the equivalent of \"Out of Service\" in ISA 18.2.\n(the Disabled state is owned by Maintenance)\n\"Suppressed\" is the equivalent of \"Suppressed by Design\" in ISA 18.2.\n(the Suppressed state is owned by Program logic)\n\"Shelved\" is the same as in ISA 18.2.\n(the Shelved state is owned by Operator, but may be cleared\nby Program logic based on time, shift change, etc.)\n\nThis instruction is usually nested within other instructions, with one instance\nused for each Alarm generated by the containing instruction.  It may also be\nused as a standalone instruction for Alarm conditions generated by custom logic.\n________________________________________\n\nFTAE Alarm Setup:\n________________________________________\n\n(object).(alarm).Com_AE.0:  Alarm to FTAE\n.Com_AE.1:   Ack to/from FTAE\n.Com_AE.3:   Shelved from FTAE Status\n.Com_AE.4:   Shelve/Reshelve to FTAE Control (auto reset)\n.Com_AE.5:   Unshelve to FTAE Control (auto reset)\n.Com_AE.6:   Suppressed from FTAE Status\n.Com_AE.7:   Suppress to FTAE Control (auto reset)\n.Com_AE.8:   Unsuppress to FTAE Control (auto reset)\n.Com_AE.9:   Disabled from FTAE Status\n.Com_AE.10: Disable to FTAE Control (auto reset)\n.Com_AE.11: Enable to FTAE Control (auto reset)\nall other bits unused\n    .Cfg_MaxShelfT is also used in FTAE config.\n.Cfg_Severity is used by FTAE in FTView 8.x.\n============================================================\nPOWERUP / INVALID STATE HANDLING\n============================================================\nAll internal Work (state) bits maintain states through a power cycle and are\nindependent.  No first-scan logic is required.  See the Prescan routine for\npowerup / prescan code.\n============================================================\nSHOW LOCAL STRINGS\n============================================================\nThe STRINGs containing the text associated with each instance of this\ninstruction cannot be Input or Output Parameters, because STRINGs are not\n 'atomic' types. (Inputs and Outputs must be SINT, INT, DINT, REAL, or BOOL.)\n\nIn order to make it easier to find and configure these STRINGs, this rung\nwas added.  THE JMP (and the LBL on the following rung)\nMUST NOT BE REMOVED!!!\n\nTo view the STRINGs, go to the instruction instance (in LD or FBD), RIGHT-click\nto bring up the context menu and select \"Open Instruction Logic\".\nThis rung will appear with the STRING values for the selected instance.\nYou may double-click the STRING values here to modify them as well.\n\n#####  V3.0-00  2013-06-30:  Added rung; added new STRING local tags.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nJMP(SkipText)LOWER(Cfg_Tag,Cfg_Cond)LOWER(Inf_Lib,Inf_Type);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"1\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nCONFIGURATION\n============================================================\nIn the object containing this alarm, other configuration (such as not having\nany limit switches) may make this particular alarm meaningless.\nThe Program Configuration \"Allow Exist\" is used to hide this alarm\non the object's faceplate and other graphics, and forces the Cfg_Exist to 0.\n\n#####  V3.0-00 2013-06-30:  Added PCfg_AllowExist.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nLBL(SkipText)XIO(PCfg_AllowExist)OTU(Cfg_Exists);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"2\" Type=\"N\">\n<Comment>\n<CData>\n\nThis rung gets the Alarm Minimum ON Time Configuration\nand the Auto Unshelve Time Configuration\nvalues and sets the corresponding timer presets.\nIf the Minimum ON Time Configuration results in a timer preset\nless than 5 seconds, the preset is set to 5 seconds.\nIf the Auto Unshelve Time Configuration results in a negative\ntimer preset, the preset is set to 28800 seconds (8 hours).\nEither bad Config is flagged (Err_Timer).\nBad Config is also flagged if the Cfg_Severity is out of range (valid = 1..1000) (Err_Severity).\n\n#####  V3.0-00  2013-06-30:  Changed Program Inhibit to Suppress, Operator Suppress to Shelve.  #####\n#####  Added Shelf Timer config check; if Severity out of range, make it \"Fault\".  #####\n#####  V3.0-02  2013-10-30:  Changed Cfg_MaxShelfT check to LEQ 0.  (INT 1 to 32767 is valid.)  #####\n#####  V3.1-05, V3.5-00  2015-07-31:  Fixed operation of Cfg_MaxShelfT = 0, Cfg_AlmMinOnT, rung comment.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(Cfg_Exists)[[MUL(Cfg_AlmMinOnT,1000,Wrk_AlmMinOnT.PRE) LES(Wrk_AlmMinOnT.PRE,5000) MOV(5,Cfg_AlmMinOnT) MOV(5000,Wrk_AlmMinOnT.PRE) ,MUL(Cfg_MaxShelfT,60000,Wrk_ShelfT.PRE) LES(Wrk_ShelfT.PRE,0) MOV(480,Cfg_MaxShelfT) MOV(28800000,Wrk_ShelfT.PRE) ] OTE(Err_Timer) ,LIM(1001,Cfg_Severity,0) MOV(1000,Cfg_Severity) OTE(Err_Severity) ]OTE(Sts_Err);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"3\" Type=\"N\">\n<Comment>\n<CData>\nThe Auto Ack time is ALWAYS five seconds.\n\n#####  V3.1-05, V3.5-00  2015-07-31:  Operation of Cfg_AlmMinOnT consolidated on previous rung  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nMOV(5000,Wrk_AutoAckT.PRE);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"4\" Type=\"N\">\n<Comment>\n<CData>\nWhen the Alarm initially occurs, the Auto Ack timer is started.\nIf this Alarm is set for \"Ack Not Required\", it is automatically \nAcknowledged after the AutoAck time expires.\n\nThis pulsing of the Ack bit OFF then ON allows the \"Ack Not Required\"\nconfiguration to be used with View 32, View ME and other legacy\nalarm systems that don't support optional ack.\n\n#####  V3.0-00  2013-06-30:  Moved rung here to be outside the \"JMP over\" zone  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIO(Ack)TON(Wrk_AutoAckT,?,?);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"5\" Type=\"N\">\n<Comment>\n<CData>\nIf this alarm does not exist, set it to its default state (no alarm, acknowleded,\nuninhibited, unsuppressed, enabled) and clear any received commands.\nThen jump over the remainder of the Logic and return.\n\n#####  V3.0-00  2013-06-30:  Changed Program Inhibit to Suppress, Operator Suppress to Shelve.  #####\n#####  Added Shelf Timer, PCmd_Unshelve  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIO(Cfg_Exists)[XIC(Wrk_AutoAckT.DN) OTL(Ack) ,OTU(Wrk_Alm) OTU(Shelved) OTU(Wrk_Suppressed) OTU(Disabled) OTU(Sts_AlmInh) ,OTU(PCmd_Reset) OTU(PCmd_Ack) OTU(PCmd_Unshelve) OTU(PCmd_Suppress) OTU(PCmd_Unsuppress) ,OTU(OCmd_Reset) OTU(OCmd_Ack) OTU(OCmd_Shelve) OTU(OCmd_Unshelve) ,OTU(MCmd_Disable) OTU(MCmd_Enable) RES(Wrk_AlmMinOnT) RES(Wrk_ShelfT) ]JMP(End);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"6\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nCOMMAND PROCESSING\n============================================================\nThese rungs handle received Commands:\nOperator Commands (OCmd_xx) and Maintenance Commands\n(MCmd_xx) from the HMI and\nProgram Command (PCmd_xx) from other objects.\n\nNOTE:  ALARM COMMANDS ARE ACCEPTED REGARDLESS OF MODE.\n\nThis rung receives the Program Alarm Inhibit Command.\nIf configured for EDGE, the Command is cleared.\n\n#####  V3.1-02  2013-09-24:  Modified FTAE interface for Disable/Enable, Suppress/Unsuppress.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(PCmd_Suppress)[XIC(Cfg_PCmdClear) OTU(PCmd_Suppress) ,OTL(Wrk_Suppressed) OTL(Com_AE.7) OTU(Com_AE.8) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"7\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Program Alarm Unsuppress Command (Unsuppress wins over Suppress).\nIf configured for LEVEL, Suppressed is cleared if PCmd_Suppress is cleared.\n\n#####  V3.0-00  2013-06-30:  Changed Program Inhibit to Suppress, Operator Suppress to Shelve.  #####\n#####  V3.1-02  2013-09-24:  Modified FTAE interface for Disable/Enable, Suppress/Unsuppress.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(PCmd_Unsuppress) OTU(PCmd_Unsuppress) ,XIO(PCmd_Suppress) XIO(Cfg_PCmdClear) ]OTU(Wrk_Suppressed)OTU(Com_AE.7)OTL(Com_AE.8);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"8\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Operator Shelve Command.\nIf the command is received while shelved, the shelf timer starts over (reset).\n\n#####  V3.0-00  2013-06-30:  Changed Program Inhibit to Suppress, Operator Suppress to Shelve.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(OCmd_Shelve)OTU(OCmd_Shelve)XIC(Cfg_AllowShelve)OTL(Shelved)OTL(Com_AE.4)OTU(Com_AE.5)RES(Wrk_ShelfT);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"9\" Type=\"N\">\n<Comment>\n<CData>\nThis rung times how long the alarm has been shelved.\nIf the Shelf Timer expires (and its preset &gt; 0), automatically unshelve the alarm.\n\n#####  V3.0-00  2013-06-30:  New rung, added Shelf Timer  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(Shelved)TON(Wrk_ShelfT,?,?);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"10\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Operator Unshelve Command (Unshelve wins over Shelve)\nand the Program Unshelve Command\nAlso Unshelve the alarm if the Shelf Timer expires (if preset &gt; 0).\n\nNOTE: Shelved can also be set/cleared directly by the HMI (FTA&amp;E support).\n\n#####  V3.0-00  2013-06-30:  Changed Program Inhibit to Suppress, Operator Suppress to Shelve.  #####\n#####  Added PCmd_Unshelve, Shelf Timer expiration  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(OCmd_Unshelve) OTU(OCmd_Unshelve) ,XIC(PCmd_Unshelve) OTU(PCmd_Unshelve) ,XIC(Wrk_ShelfT.DN) NEQ(Wrk_ShelfT.PRE,0) ,XIO(Cfg_AllowShelve) ]OTU(Shelved)OTU(Com_AE.4)OTL(Com_AE.5);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"11\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Maintenance Alarm Disable Command\n\n#####  V3.0-00  2013-06-30:  Added Cfg_AllowDisable.  #####\n#####  V3.1-02  2013-09-24:  Modified FTAE interface for Disable/Enable, Suppress/Unsuppress.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(MCmd_Disable)OTU(MCmd_Disable)XIC(Cfg_AllowDisable)OTL(Disabled)OTL(Com_AE.10)OTU(Com_AE.11);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"12\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Maintenance Alarm Enable Command (Enable wins over Disable)\n\nNOTE: Disabled can also be set/cleared directly by the HMI (FTA&amp;E support).\n\n#####  V3.0-00  2013-06-30:  Added Cfg_AllowDisable.  #####\n#####  V3.1-02  2013-09-24:  Modified FTAE interface for Disable/Enable, Suppress/Unsuppress.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(MCmd_Enable) ,XIO(Cfg_AllowDisable) ]OTU(MCmd_Enable)OTU(Disabled)OTU(Com_AE.10)OTL(Com_AE.11);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"13\" Type=\"N\">\n<Comment>\n<CData>\nIf the Alarm is Disabled (Maint), Suppressed (Prog) or Shelved\n(Oper), then post the \"alarm inhibited\" breadcrumb and do not\nallow a new alarm to be issued.\n\n@@@@@  Unlatch and Latch are used to avoid a verification  @@@@@\n@@@@@  warning in combination with Rung 2's OTU (above)!  @@@@@\n\n#####  V3.0-00  2013-06-30:  Broken out in a separate, simpler rung, and used  #####\n#####  in other logic.  Shelving no longer generates Alm on Inp going to Alarm state.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nOTU(Sts_AlmInh)[XIC(Disabled) ,XIC(Wrk_Suppressed) ,XIC(Shelved) ]OTL(Sts_AlmInh);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"14\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Alarm Acknowledge Commands\n\nNOTE: Acknowledge can also be set/cleared directly by the HMI.\n\n#####  V3.0-00  2013-06-30:  Most ACK sources moved to this rung.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIO(Wrk_AutoAckT.TT)[XIC(PCmd_Ack) OTU(PCmd_Ack) ,XIC(OCmd_Ack) OTU(OCmd_Ack) ,XIO(Cfg_AckReqd) ]OTL(Ack);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"15\" Type=\"N\">\n<Comment>\n<CData>\nThis rung receives the Alarm Reset Commands.\n\nIf the Alarm Reset Command is received and, either, the Input condition\nhas returned to normal, or the alarm is disabled, suppressed or shelved,\nthe Alarm is CLEARED and ACKNOWLEDGED (to match ALMD behavior!!!).\n\n#####  V3.0-00  2013-06-30:  The alarm is no longer AUTOMATICALLY  #####\n#####  cleared and acked if it is simply disabled or suppressed!  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIO(Wrk_AutoAckT.TT)[XIC(OCmd_Reset) OTU(OCmd_Reset) ,XIC(PCmd_Reset) OTU(PCmd_Reset) ,XIC(Inp_Reset) ][XIO(Inp) ,XIC(Sts_AlmInh) ]OTL(Ack)OTU(Wrk_Alm);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"16\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nALARM GENERATION\n============================================================\nThis rung CLEARS the Alarm when the alarm condition clears and its\nMinimum On Time has expired, IF Reset is NOT Required.\n\n#####  V3.0-00  2013-06-30:  No longer bypass Reset Required  #####\n#####  when the alarm is Shelved by the Operator.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIO(Inp) XIO(Cfg_ResetReqd) XIO(Wrk_AlmMinOnT.TT) ,XIC(Disabled) XIO(Wrk_AutoAckT.TT) ]OTU(Wrk_Alm);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"17\" Type=\"N\">\n<Comment>\n<CData>\nIf the Alarm Input (Inp) is true (inverted in EnableInFalse) and the alarm is\n(or becomes) Enabled, Unsuppressed and Unshelved, this rung sets the Alarm (Alm) bit.\nThe Acknowledge (Ack) bit is cleared when the Alarm initially occurs.\n\n#####  V3.0-00  2013-06-30:  Removed Wrk_Abnormal logic.  #####\n#####  V3.1-00  2014-06-30:  Added Maintenace Test command.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(Inp) XIO(Sts_AlmInh) ,XIC(MCmd_Test) OTU(MCmd_Test) ][XIO(Wrk_Alm) OTU(Ack) ,OTL(Wrk_Alm) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"18\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nOPERATOR COMMAND READIES\n============================================================\nThis Alarm is ready for (requires) an Acknowledgement if the Alarm\nis not Acknowledged (an Acknowledge was Required when the alarm occurred).\n\nThis Alarm is ready for (requires) a Reset if there is an Alarm, Reset is Required,\nand either the alarm condition has CLEARED or the alarm is Shelved,\nSuppressed or Disabled.\n.\nIf the Alarm is NOT Shelved, it is ready for Shelve.\n\nIf the Alarm IS Shelved, it is ready for Unshelve.\n\nIf the Alarm is NOT Disabled, it is ready for Disable.\n\nIf the Alarm IS Disabled, it is ready for Enable.\n\nNOTE: This rung appears before the Values/Status rung because the Rdy_Reset\ncondition is used to eliminate redundant logic in the rung below for Val_Notify.0.\n\n#####  V3.0-00  2013-06-30:  Added sub-branch with Sts_AlmInh  #####\n#####  V3.1-00  2014-06-30:  Added Maintenace Test command.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nLBL(End)XIC(Cfg_Exists)[XIO(Wrk_AutoAckT.TT) [XIO(Ack) OTE(Rdy_Ack) ,XIC(Wrk_Alm) XIC(Cfg_ResetReqd) [XIO(Inp) ,XIC(Sts_AlmInh) ] OTE(Rdy_Reset) ] ,XIC(Cfg_AllowShelve) OTE(Rdy_Shelve) ,XIC(Shelved) OTE(Rdy_Unshelve) ,XIO(Disabled) XIC(Cfg_AllowDisable) OTE(Rdy_Disable) ,XIC(Disabled) OTE(Rdy_Enable) ,XIO(Wrk_Alm) OTE(Rdy_Test) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"19\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nVALUE / STATUS GENERATION\n============================================================\nThis rung copies the internal working status (Suppressed, In Alarm)\nto public Status bits.  Note that internal working bits are used so that\noutside objects cannot manipulate the state of this object\nby setting/clearing its Status and Alarm bits.\n\nPublic Status is generated for:\nAlarm (with minimum ON time to be seen by polling)\nAlarm Suppressed\nUnsuppressed, Unshelved and Enabled are generated for HMI (FTVSE 7).\n\n(Ack, Shelved and Disabled can be set/cleared by the HMI directly.\nNote that these bits are \"read/write\" outputs in the parameter definition.)\n\n#####  V3.0-00  2013-06-30:  New rung, some from below, new HMI bits.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(Wrk_Alm) OTE(Alm) TON(Wrk_AlmMinOnT,?,?) ,XIC(Wrk_Suppressed) OTE(Suppressed) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"20\" Type=\"N\">\n<Comment>\n<CData>\nNotify Level (color, blink) is determined here.\n@@@@@  Note how the bottom 3 bits of the Severity are shifted left 1 for Val_Notify.  @@@@@\n\n0 = Not in alarm, acknowledged\n1 = Not in alarm, unacknowledged or reset required\n2 = Low severity alarm, acknowledged\n3 = Low severity alarm, unacknowledged\n4 = Medium severity alarm, acknowledged\n5 = Medium severity alarm, unacknowledged\n6 = High severity alarm, acknowledged\n7 = High severity alarm, unacknowledged\n8 = Urgent severity alarm, acknowledged\n9 = Urgent severity alarm, unacknowledged\n\nNOTE that the alarm bell icon will blink, even though the alarm is Acknowledged,\nif an Alarm Reset is required (to get the Operator's attention).\n\n#####  V3.0-00  2013-06-30:  Moved a few functions off this rung to logic above.  #####\n#####  Names of Severity levels changed to Low, Medium, High, Highest  #####\n#####  to match examples in ANSI/ISA-18.2-2009.  #####\n#####  V3.1-00  2014-06-30:  Changed severity ranges, names to match FTAE  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[[XIO(Ack) ,XIC(Rdy_Reset) ] OTE(Val_Notify.0) ,XIC(Wrk_Alm) [[LIM(1,Cfg_Severity,250) ,LIM(501,Cfg_Severity,750) ] OTE(Val_Notify.1) ,LIM(251,Cfg_Severity,750) OTE(Val_Notify.2) ,LIM(751,Cfg_Severity,1000) OTE(Val_Notify.3) ] ,OTU(Val_Notify.4) OTU(Val_Notify.5) OTU(Val_Notify.6) OTU(Val_Notify.7) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"21\" Type=\"N\">\n<Comment>\n<CData>\nThis rung calculates the number of seconds until this alarm \"unshelves\" itself.\nIf the alarm is already unshelved, clear this number.\n\n#####  V3.0-00  2013-06-30:  Added automatic unshelve, and display of time until this happens.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nCPT(Wrk_SecToUnshelve,(Wrk_ShelfT.PRE-Wrk_ShelfT.ACC)/1000)XIO(Shelved)CLR(Wrk_SecToUnshelve);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"22\" Type=\"N\">\n<Comment>\n<CData>\nThis rung takes the time remaining until the alarm will be automatically unshelved (milliseconds),\nconverts it to seconds, then reports it in  minutes : seconds format for display on the HMI.\n\n#####  V3.0-00  2013-06-30:  Added automatic unshelve, and display of time until this happens.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nDIV(Wrk_SecToUnshelve,60,Val_MinToUnshelve)MOD(Wrk_SecToUnshelve,60,Val_SecToUnshelve);\n</CData>\n</Text>\n</Rung>\n</RLLContent>\n</Routine>\n<Routine Name=\"Prescan\" Type=\"RLL\">\n<Description>\n<CData>\nClear \"lurking\" Commands\n</CData>\n</Description>\n<RLLContent>\n<Rung Number=\"0\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nPRESCAN (POWERUP) HANDLING\n============================================================\nOn Prescan, clear any \"lurking\" Commands.\nUnshelve and Unsuppress all alarms, but\nonly Enable alarms for which Disable is not allowed.\n(Let Maintenance Disable persist through a power cycle...)\n\n#####  V3.0-00  2013-06-30:  Added PCmd_Unshelve, AllowDisable, AllowShelve.  #####\n#####  V3.1-02  2013-09-24:  Modified FTAE interface for Disable/Enable, Suppress/Unsuppress.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[OTU(PCmd_Reset) OTU(PCmd_Ack) OTU(PCmd_Unsuppress) OTU(PCmd_Unshelve) ,XIC(Cfg_PCmdClear) OTU(PCmd_Suppress) ,OTU(OCmd_Reset) OTU(OCmd_Ack) OTU(OCmd_Shelve) OTU(OCmd_Unshelve) ,OTU(MCmd_Disable) OTU(MCmd_Enable) ,OTU(Shelved) OTU(Com_AE.4) OTL(Com_AE.5) ,OTU(Wrk_Suppressed) OTU(Suppressed) OTU(Com_AE.7) OTL(Com_AE.8) ,XIO(Cfg_AllowDisable) OTU(Disabled) OTU(Com_AE.10) OTL(Com_AE.11) ];\n</CData>\n</Text>\n</Rung>\n</RLLContent>\n</Routine>\n</Routines>\n<Dependencies>\n<Dependency Name=\"STRING_20\" Type=\"DataType\"/>\n<Dependency Name=\"STRING_12\" Type=\"DataType\"/>\n</Dependencies>\n</AddOnInstructionDefinition>"