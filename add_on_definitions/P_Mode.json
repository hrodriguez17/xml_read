"<AddOnInstructionDefinition CreatedBy=\"Not Available\" CreatedDate=\"2008-06-11T19:19:37.168Z\" EditedBy=\"PROCESS\\Library\" EditedDate=\"2016-01-29T13:57:05.914Z\" ExecuteEnableInFalse=\"true\" ExecutePostscan=\"false\" ExecutePrescan=\"true\" Name=\"P_Mode\" Revision=\"3.5\" RevisionExtension=\"01 Release\" SoftwareRevision=\"v18.02\" Vendor=\"Rockwell Automation\">\n<Description>\n<CData>\nMode\n</CData>\n</Description>\n<RevisionNote>\n<CData>\nSee V3.5-xx Release Notes for details. Unmodified, up-rev only for V3.5-01 Release.\n</CData>\n</RevisionNote>\n<AdditionalHelpText>\n<CData>\nCopyright \u00a9 Rockwell Automation, Inc.  All Rights Reserved.\n\nThis instruction provides selection of Mode (owner) for a Device level\nobject  (from highest priority to lowest):\n\n*  No Mode (no owner, EnableIn is false)\n*  Hand (typically tracks hardwired control of device)\n*  Maint (Maintenance) (taken out of normal service for maintenance)\n*  Ovrd (Override) (typically used for process overrides)\n*  Prog  (Program) (automated control, and default if Cfg_ProgNorm = 1)\n*  Oper (Operator (manual control, and default if Cfg_ProgNorm = 0)\n\n(Program and Operator have the same priority.)\n\nThe current mode is shown with Status bits and also as the primary\nValue for the instruction: an enumeration \"Val\" as follows:\n\n  0 = No Mode,\n  1 = Hand,\n  2 = Maintenance,\n  3 = Override,\n  4 = Program (Locked),\n  5 = Operator (Locked),\n  6 = Program (Unlocked, Oper default),\n  7 = Operator (Unlocked, Prog default),\n  8 = Program (Unlocked, = default),\n  9 = Operator (Unlocked, = default).\n\nWhen EnableIn is false, all ownership acquire/release and lock/unlock\nCommands are processed \"behind the scenes\", but the Mode is shown\nas \"No Mode\" (no owner).  When EnableIn becomes true, the Mode\ntakes into account the Commands received -- in other words, the Mode\nbecomes the one that would have been in effect had the EnableIn\nFalse / No Mode condition never occurred.\n\n</CData>\n</AdditionalHelpText>\n<Parameters>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"EnableIn\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nEnable Input - System Defined Parameter\n</CData>\n</Description>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"EnableOut\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nEnable Output - System Defined Parameter\n</CData>\n</Description>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Inp_Hand\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"true\">\n<Description>\n<CData>\n1=Acquire Hand (typ. hardwired local) Mode, 0=Release Hand Mode\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Inp_Ovrd\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"true\">\n<Description>\n<CData>\n1=Acquire Override (higher priority program logic) Mode, 0=Release Override Mode\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Cfg_PCmdClear\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\n1=Clear Program Command on receipt; 0=Use Level-based (maintained) PCmds\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n1\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"1\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Cfg_OvrdOverLock\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\n1=Override supersedes Prog/Oper Lock, 0=don't override Lock\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n1\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"1\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"Cfg_ProgDefault\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nDefault Mode: 1=Program Mode if no requests; 0=Operator Mode if no requests\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"PCmd_Acq\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nProgram Command to Acquire Ownership (Oper to Prog)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"PCmd_Rel\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nProgram Command to Release Ownership (Prog to Oper)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"PCmd_Lock\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nProgram Command to Lock Mode in Prog\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"PCmd_Unlock\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nProgram Command to Unlock Mode\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"MCmd_Acq\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nMaintenance Command to Acquire Ownership (Oper/Prog/Ovrd to Maint)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"MCmd_Rel\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nMaintenance Command to Release Ownership (Maint to Oper/Prog/Ovrd)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"OCmd_AcqLock\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nOperator Command to Acquire (Prog to Oper) / Lock Ownership\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"OCmd_UnlockRel\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Input\" Visible=\"false\">\n<Description>\n<CData>\nOperator Command to Unlock / Release (Oper to Prog) Ownership\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"SINT\" ExternalAccess=\"Read Only\" Name=\"Val\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nMode enum: 0=No, 1=H, 2=M, 3=!, 4=P Lock, 5=O Lock, 6=P (O Def), 7=O (P Def), 8=P (= Def), 9=O (= Def)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"SINT\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_Hand\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\n1=Mode is Hand (supersedes Maint, Ovrd, Prog, Oper)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_Maint\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\n1=Mode is Maintenance (supersedes Ovrd, Prog, Oper)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_Ovrd\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\n1=Mode is Override (supersedes Prog, Oper)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_Prog\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\n1=Mode is Program\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_Oper\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\n1=Mode is Operator\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n1\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"1\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_ProgOperLock\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"true\">\n<Description>\n<CData>\n1=Program or Operator has requested Mode Lock\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_ProgOperSel\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nProg/Oper selection 1=Program, 0=Operator\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_NoMode\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Mode is No Mode (no owner, disabled or not scanned)\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Sts_MAcqRcvd\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Maintenance Acquire command received this scan\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_MAcq\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Ready for MCmd_Acq, enable button\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_MRel\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Ready for MCmd_Rel, enable button\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_OAcq\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Ready for OCmd_AcqLock, enable Acquire (to Oper) button\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_OLock\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Ready for OCmd_AcqLock, enable Oper Lock button\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_OUnlock\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Ready for OCmd_UnlockRel, enable Oper Unlock button\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read Only\" Name=\"Rdy_ORel\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\n1=Ready for OCmd_UnlockRel, enable Release (to Prog) button\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n<Parameter DataType=\"BOOL\" ExternalAccess=\"Read/Write\" Name=\"P_Mode\" Radix=\"Decimal\" Required=\"false\" TagType=\"Base\" Usage=\"Output\" Visible=\"false\">\n<Description>\n<CData>\nUnique Parameter Name for auto - discovery\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</Parameter>\n</Parameters>\n<LocalTags>\n<LocalTag DataType=\"BOOL\" ExternalAccess=\"None\" Name=\"Wrk_Locked\" Radix=\"Decimal\">\n<Description>\n<CData>\n1=Program/Operator Mode selection is Locked\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"BOOL\" ExternalAccess=\"None\" Name=\"Wrk_Prog\" Radix=\"Decimal\">\n<Description>\n<CData>\nInternal Program (1) / Operator (0) Mode selection\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"BOOL\" ExternalAccess=\"None\" Name=\"Wrk_Maint\" Radix=\"Decimal\">\n<Description>\n<CData>\nInternal Maintenance Mode\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n0\n</CData>\n</DefaultData>\n<DefaultData Format=\"Decorated\">\n<DataValue DataType=\"BOOL\" Radix=\"Decimal\" Value=\"0\"/>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"STRING_12\" ExternalAccess=\"Read Only\" Name=\"Inf_Lib\">\n<Description>\n<CData>\nDisplay Library for Faceplate call-up\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n[6,'RA-BAS$00$00$00$00$00$00']\n</CData>\n</DefaultData>\n<DefaultData Format=\"String\" Length=\"6\">\n<CData>\n'RA-BAS'\n</CData>\n</DefaultData>\n</LocalTag>\n<LocalTag DataType=\"STRING_16\" ExternalAccess=\"Read Only\" Name=\"Inf_Type\">\n<Description>\n<CData>\nMust contain AOI name, used for HMI and Information S/W\n</CData>\n</Description>\n<DefaultData Format=\"L5K\">\n<CData>\n[6,'P_Mode$00$00$00$00$00$00$00$00$00$00']\n</CData>\n</DefaultData>\n<DefaultData Format=\"String\" Length=\"6\">\n<CData>\n'P_Mode'\n</CData>\n</DefaultData>\n</LocalTag>\n</LocalTags>\n<Routines>\n<Routine Name=\"EnableInFalse\" Type=\"RLL\">\n<Description>\n<CData>\nProcesses received Commands, but shows \"NO mode\" (no owner)\n</CData>\n</Description>\n<RLLContent>\n<Rung Number=\"0\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nP_Mode:  EnableInFalse Handling\n============================================================\nWhen EnableIn is False, this Routine is scanned instead of the \"Logic\" Routine.\nAll Commands are processed \"behind the scenes\", but the Mode is shown\nas \"No Mode\" (no owner).  When EnableIn becomes true, the Mode\ntakes into account the Commands received -- in other words, the Mode\nbecomes the one that would have been in effect had the EnableIn\nFalse / No Mode condition never occurred.\n============================================================\nCOMMAND HANDLING\n============================================================\nNOTE:  These rungs MUST be in the order given to meet the following\nmultiple-actions-at-the-same-time scenarios:\n\n* Maintenance Release beats Maintenance Acquire\n* Program Release beats Program Acquire\n* Program Unlock beats Program Lock\n* Operator Unlock beats Operator Acquire and Lock (results in Oper Unlocked)\n* Operator Acquire/Lock must come after Program Unlock\n* Program Acquire must come after Operator Unlock\n===========================================================\nMCmd_Acq: Acquire for Maintenance Mode, and blink the status\nthat indicates a Maintenance Acquire command was received.\n\n#####  V3.1-00  2014-06-30:  Added Sts_MAcqRcvd  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(MCmd_Acq)OTU(MCmd_Acq)OTE(Sts_MAcqRcvd)OTL(Wrk_Maint);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"1\" Type=\"N\">\n<Comment>\n<CData>\nMCmd_Rel: Release from Maintenance Mode.\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(MCmd_Rel)OTU(MCmd_Rel)OTU(Wrk_Maint);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"2\" Type=\"N\">\n<Comment>\n<CData>\nOCmd_AcqLock: Operator Lock (if acquired), Operator Acquire (take from Program if not locked)\n\n#####  V3.0-00  2013-06-30:  Modified to make going from Program to Operator Locked a two-step process.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(OCmd_AcqLock)OTU(OCmd_AcqLock)XIO(Wrk_Locked)[XIO(PCmd_Acq) [XIO(Wrk_Prog) OTL(Wrk_Locked) ,OTU(Wrk_Prog) ] ,XIC(PCmd_Acq) OTU(Wrk_Prog) OTL(Wrk_Locked) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"3\" Type=\"N\">\n<Comment>\n<CData>\nOCmd_Unlock: Unlock Operator Mode\n\n#####  V3.0-00  2013-06-30:  Modified to make going from Operator Locked to Program a two-step process.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(OCmd_UnlockRel)OTU(OCmd_UnlockRel)XIO(Wrk_Prog)[XIO(Wrk_Locked) XIC(Cfg_ProgDefault) OTL(Wrk_Prog) ,OTU(Wrk_Locked) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"4\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nOPERATOR COMMAND READIES\n============================================================\nReady for OPERATOR ACQUIRE AND LOCK comand if the Mode is\n is NOT Locked. (Oper \"acquire and lock\" when in Prog Mode is a \"grab\"!)\n\nReady fpr OPERATOR UNLOCK command if the Lock is set and the\ninternal Program bit is cleared (Operator has the lock, even if in Ovrd, Maint or Hand!)\n\nReady for MAINTENANCE ACQUIRE if internal Maintenance latch is NOT set.\nBut we need to display Ready even if latch IS set so that Sts_MAcqRcvd\ncan blink to reset an external Maintenance expiration timer!!!\n\nReady for MAINTENANCE RELEASE if internal Maintenance latch IS set.\n\n#####  V3.0-00  2013-06-30:  Modified Rdy_Unlock for two-step Operator Locked to Program process.  #####\n#####  V3.1-00  2014-06-30:  Added Sts_MAcqRcvd  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[OTE(Rdy_MAcq) ,XIC(Wrk_Maint) OTE(Rdy_MRel) ,XIO(Wrk_Locked) [[XIO(Wrk_Prog) ,XIC(PCmd_Acq) ] OTE(Rdy_OLock) ,XIO(PCmd_Acq) XIC(Wrk_Prog) OTE(Rdy_OAcq) ] ,XIO(Wrk_Prog) [XIC(Wrk_Locked) OTE(Rdy_OUnlock) ,XIO(Wrk_Locked) XIC(Cfg_ProgDefault) OTE(Rdy_ORel) ] ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"5\" Type=\"N\">\n<Comment>\n<CData>\nPCmd_Acq: Acquire for Program Mode\n\n#####  V3.0-00  2013-06-30:  Modified to make going from Operator Locked to Program a two-step process.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(PCmd_Acq)[XIC(Cfg_PCmdClear) OTU(PCmd_Acq) ,NOP() ]XIO(Wrk_Locked)OTL(Wrk_Prog);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"6\" Type=\"N\">\n<Comment>\n<CData>\nPCmd_Lock: Lock Program Mode\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(PCmd_Lock)[XIC(Cfg_PCmdClear) OTU(PCmd_Lock) ,NOP() ]XIC(Wrk_Prog)OTL(Wrk_Locked);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"7\" Type=\"N\">\n<Comment>\n<CData>\nPCmd_Unlock: Unlock Program Mode\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(PCmd_Unlock) XIC(Cfg_PCmdClear) OTU(PCmd_Unlock) ,XIO(PCmd_Lock) XIO(Cfg_PCmdClear) ]XIC(Wrk_Prog)OTU(Wrk_Locked);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"8\" Type=\"N\">\n<Comment>\n<CData>\nPCmd_Rel: Release from Program Mode\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(PCmd_Rel) XIC(Cfg_PCmdClear) OTU(PCmd_Rel) ,XIO(PCmd_Acq) XIO(Cfg_PCmdClear) ]XIO(Cfg_ProgDefault)XIO(Wrk_Locked)OTU(Wrk_Prog);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"9\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nSTATUS GENERATION\n============================================================\nWith EnableIn False, there is NO owner !!!  ALL Mode Status bits\nEXCEPT Sts_NoMode are CLEARED!\n\n#####  V3.1-00  2014-06-30:  \"Val\" (mode enumeration) changed from DINT to SINT.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nOTU(Sts_Hand)OTU(Sts_Maint)OTU(Sts_Ovrd)OTU(Sts_Prog)OTU(Sts_Oper)OTL(Sts_NoMode)CLR(Val);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"10\" Type=\"N\">\n<Comment>\n<CData>\nPublic Status for:\nSts_ProgOperSel:    Program/Operator substate selection (Prog = 1, Oper = 0)\nSts_ProgOperLock:    Program/Operator Lock substate selection (Locked = 1, Unlocked = 0)\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(Wrk_Prog) OTE(Sts_ProgOperSel) ,XIC(Wrk_Locked) OTE(Sts_ProgOperLock) ];\n</CData>\n</Text>\n</Rung>\n</RLLContent>\n</Routine>\n<Routine Name=\"Logic\" Type=\"RLL\">\n<Description>\n<CData>\nSelects Modes (Hand, Maint, Ovrd, Oper, Prog) based on Inputs and Commands\n</CData>\n</Description>\n<RLLContent>\n<Rung Number=\"0\" Type=\"N\">\n<Comment>\n<CData>\nCopyright \u00a9 Rockwell Automation, Inc.  All Rights Reserved.\n============================================================\nP_Mode:  PROCESS -- MODE SELECTOR\n============================================================\nRevision 3.5-01 Release  2016-01-29:  See V3.5-xx Release Notes for details.\nV1.x and V2.x Revision History archived.\nV3.0-00  2013-06-30:  Containing objects MUST now expose OCmd_AcqLock\nand OCmd_Unlock. Made Operator Commands for going from Operator\nLocked to Program (unlocked) and Program (unlocked) to Operator\nLock two-step processes.  Added Inf_Lib, Inf_Type.\nV3.1-00  2014-06-30:  Containing objects must expose Maintenance Acquire /\nRelease commands and new Sts_MAcqRcvd.\nChanged Val (enum) to SINT. Fixed parameter descriptions.\nV3.1-01  2014-09-03:  Unmodified, up-rev only for V3.1-01 public release.\nV3.5-01  2016-01-29:  Unmodified, up-rev only for V3.5-01 Release.\n============================================================\nThis instruction provides selection of Mode (owner) for a Device level\nobject  (from highest priority to lowest):\n* NO Mode (EnableIn is false)\n*  Hand (typically tracks hardwired control of device)\n*  Maint (Maintenance) (taken out of normal service for maintenance)\n*  Ovrd (Override) (typically used for process overrides)\n*  Prog  (Program) (automated control, and default if Cfg_ProgNorm = 1)\n*  Oper (Operator (manual control, and default if Cfg_ProgNorm = 0)\n\nThe current mode is shown with Status bits and also as the\nprimary Value for the instruction: an enumeration as follows:\n0 = No Mode, 1 = Hand, 2 = Maintenance, 3 = Override,\n4 = Program (Locked), 5 = Operator (Locked),\n6 = Program (Unlocked, Oper default), 7 = Operator (Unlocked, Prog default),\n8 = Program (Unlocked, Prog default), 9 = Operator (Unlocked, Oper default).\n============================================================\nCOMMAND HANDLING\n============================================================\nNOTE:  These rungs MUST be in the order given to meet the following\nmultiple-actions-at-the-same-time scenarios:\n\n* Maintenance Release beats Maintenance Acquire\n* Program Release beats Program Acquire\n* Program Unlock beats Program Lock\n* Operator Unlock beats Operator Acquire / Lock (results in Oper Unlocked)\n* Program Acquire must come after Operator Unlock\n\nIf Cfg_ProgDefault = 1, the Mode defaults to Program\n(instead of Operator) if all other Modes release their requests.\n============================================================\nMCmd_Acq: Acquire for Maintenance Mode, and blink the status\nthat indicates a Maintenance Acquire command was received.\n\n#####  V3.1-00  2014-06-30:  Added Sts_MAcqRcvd  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(MCmd_Acq)OTU(MCmd_Acq)OTE(Sts_MAcqRcvd)OTL(Wrk_Maint);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"1\" Type=\"N\">\n<Comment>\n<CData>\nMCmd_Rel: Release from Maintenance Mode.\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(MCmd_Rel)OTU(MCmd_Rel)OTU(Wrk_Maint);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"2\" Type=\"N\">\n<Comment>\n<CData>\nOCmd_AcqLock: Operator Lock (if acquired), Operator Acquire (take from Program if not locked) (if allowed)\n\n#####  V3.0-00  2013-06-30:  Modified to make going from Program to Operator Locked a two-step process.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(OCmd_AcqLock)OTU(OCmd_AcqLock)XIO(Wrk_Locked)[XIO(PCmd_Acq) [XIO(Wrk_Prog) OTL(Wrk_Locked) ,OTU(Wrk_Prog) ] ,XIC(PCmd_Acq) OTU(Wrk_Prog) OTL(Wrk_Locked) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"3\" Type=\"N\">\n<Comment>\n<CData>\nOCmd_Unlock: Unlock Operator Mode\n\n#####  V3.0-00  2013-06-30:  Modified to make going from Operator Locked to Program a two-step process.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(OCmd_UnlockRel)OTU(OCmd_UnlockRel)XIO(Wrk_Prog)[XIO(Wrk_Locked) XIC(Cfg_ProgDefault) OTL(Wrk_Prog) ,OTU(Wrk_Locked) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"4\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nOPERATOR COMMAND READIES\n============================================================\nReady for OPERATOR ACQUIRE AND LOCK comand if the Mode is\n is NOT Locked. (Oper \"acquire and lock\" when in Prog Mode is a \"grab\"!)\n\nReady fpr OPERATOR UNLOCK command if the Lock is set and the\ninternal Program bit is cleared (Operator has the lock, even if in Ovrd, Maint or Hand!)\n\nReady for MAINTENANCE ACQUIRE if internal Maintenance latch is NOT set.\nBut we need to display Ready even if latch IS set so that Sts_MAcqRcvd\ncan blink to reset an external Maintenance expiration timer!!!\n\nReady for MAINTENANCE RELEASE if internal Maintenance latch IS set.\n\n#####  V3.0-00  2013-06-30:  Modified Rdy_Unlock for two-step Operator Locked to Program process.  #####\n#####  V3.1-00  2014-06-30:  Added Sts_MAcqRcvd  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[OTE(Rdy_MAcq) ,XIC(Wrk_Maint) OTE(Rdy_MRel) ,XIO(Wrk_Locked) [[XIO(Wrk_Prog) ,XIC(PCmd_Acq) ] OTE(Rdy_OLock) ,XIO(PCmd_Acq) XIC(Wrk_Prog) OTE(Rdy_OAcq) ] ,XIO(Wrk_Prog) [XIC(Wrk_Locked) OTE(Rdy_OUnlock) ,XIO(Wrk_Locked) XIC(Cfg_ProgDefault) OTE(Rdy_ORel) ] ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"5\" Type=\"N\">\n<Comment>\n<CData>\nPCmd_Acq: Acquire for Program Mode\n\n#####  V3.0-00  2013-06-30:  Modified to make going from Operator Locked to Program a two-step process.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(PCmd_Acq)[XIC(Cfg_PCmdClear) OTU(PCmd_Acq) ,NOP() ]XIO(Wrk_Locked)OTL(Wrk_Prog);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"6\" Type=\"N\">\n<Comment>\n<CData>\nPCmd_Lock: Lock Program Mode\n</CData>\n</Comment>\n<Text>\n<CData>\nXIC(PCmd_Lock)[XIC(Cfg_PCmdClear) OTU(PCmd_Lock) ,NOP() ]XIC(Wrk_Prog)OTL(Wrk_Locked);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"7\" Type=\"N\">\n<Comment>\n<CData>\nPCmd_Unlock: Unlock Program Mode\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(PCmd_Unlock) XIC(Cfg_PCmdClear) OTU(PCmd_Unlock) ,XIO(PCmd_Lock) XIO(Cfg_PCmdClear) ]XIC(Wrk_Prog)OTU(Wrk_Locked);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"8\" Type=\"N\">\n<Comment>\n<CData>\nPCmd_Rel: Release from Program Mode\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(PCmd_Rel) XIC(Cfg_PCmdClear) OTU(PCmd_Rel) ,XIO(PCmd_Acq) XIO(Cfg_PCmdClear) ]XIO(Cfg_ProgDefault)XIO(Wrk_Locked)OTU(Wrk_Prog);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"9\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nSTATUS GENERATION\n============================================================\nThis rung determines the Mode based on the states of the inputs and internal working bits.\nThe logic here does the vast mahority of the implementation of the Mode selection rules.\n\nBetween the internal working bits used above and the rules implemented here,\noutside objects cannot manipulate the state of this object by setting/clearing its Status bits.\n\nPublic Status is generated for:\n*  Hand Mode\n*  Maintenance Mode\n*  Override Mode\n*  Program Mode\n*  Operator Mode\n*  No Mode (none of the above)\n\n#####  V3.1-00  2014-06-30:  \"Val\" (mode enumeration) changed from DINT to SINT.  #####\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(Inp_Hand) OTE(Sts_Hand) MOV(1,Val) ,XIO(Inp_Hand) [XIC(Wrk_Maint) OTE(Sts_Maint) MOV(2,Val) ,XIO(Wrk_Maint) [XIC(Inp_Ovrd) [XIO(Wrk_Locked) ,XIC(Cfg_OvrdOverLock) ,XIC(Sts_Ovrd) ] OTE(Sts_Ovrd) MOV(3,Val) ,XIO(Sts_Ovrd) [XIC(Wrk_Prog) [XIC(Wrk_Locked) MOV(4,Val) ,XIO(Wrk_Locked) [XIO(Cfg_ProgDefault) MOV(6,Val) ,XIC(Cfg_ProgDefault) MOV(8,Val) ] ] OTE(Sts_Prog) ,XIO(Wrk_Prog) [XIC(Wrk_Locked) MOV(5,Val) ,XIO(Wrk_Locked) [XIC(Cfg_ProgDefault) MOV(7,Val) ,XIO(Cfg_ProgDefault) MOV(9,Val) ] ] OTE(Sts_Oper) ] ] ] ]OTU(Sts_NoMode);\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"10\" Type=\"N\">\n<Comment>\n<CData>\nPublic Status for:\nSts_ProgOperSel:    Program/Operator substate selection (Prog = 1, Oper = 0)\nSts_ProgOperLock:    Program/Operator Lock substate selection (Locked = 1, Unlocked = 0)\n</CData>\n</Comment>\n<Text>\n<CData>\n[XIC(Wrk_Prog) OTE(Sts_ProgOperSel) ,XIC(Wrk_Locked) OTE(Sts_ProgOperLock) ];\n</CData>\n</Text>\n</Rung>\n</RLLContent>\n</Routine>\n<Routine Name=\"Prescan\" Type=\"RLL\">\n<Description>\n<CData>\nClear \"lurking\" Commands\n</CData>\n</Description>\n<RLLContent>\n<Rung Number=\"0\" Type=\"N\">\n<Comment>\n<CData>\n============================================================\nPRESCAN (POWERUP) HANDLING\n============================================================\nOn Prescan, clear any \"lurking\" Commands.\n</CData>\n</Comment>\n<Text>\n<CData>\n[OTU(OCmd_AcqLock) OTU(OCmd_UnlockRel) OTU(MCmd_Acq) OTU(MCmd_Rel) ,OTU(PCmd_Acq) OTU(PCmd_Rel) OTU(PCmd_Lock) OTU(PCmd_Unlock) ];\n</CData>\n</Text>\n</Rung>\n<Rung Number=\"1\" Type=\"N\">\n<Comment>\n<CData>\nOn Prescan, go to the default Mode (between Program and Operator)\nand clear the Prog/Oper Mode Lock.\n</CData>\n</Comment>\n<Text>\n<CData>\n[OTU(Wrk_Locked) ,XIC(Cfg_ProgDefault) OTE(Wrk_Prog) ];\n</CData>\n</Text>\n</Rung>\n</RLLContent>\n</Routine>\n</Routines>\n<Dependencies>\n<Dependency Name=\"STRING_12\" Type=\"DataType\"/>\n</Dependencies>\n</AddOnInstructionDefinition>"